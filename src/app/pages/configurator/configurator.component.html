<app-navbar></app-navbar>

<div class="layout">
  <div *ngIf="loaded" class="container-car">
    <div
      class="car-wrapper"
      [ngStyle]="{
        'background-image':
          modelloID === 1
            ? 'url(assets/images/grancabrio/sfondo_grancabrio.png)'
            : 'url(assets/images/granturismo/sfondo_granturismo.png)'
      }"
    >
      <img
        *ngFor="let optional of optionals"
        [src]="optional.FileImageSfondo"
        [alt]="optional.NomeOptional"
        class="layer"
      />
    </div>
  </div>

  <div class="container-cards">
    <div
      *ngFor="let categoria of groupedOptionals | keyvalue"
      class="category-block"
    >
      <h2>{{ categoria.key }}</h2>

      <div class="category-scroll">
        <div
          *ngFor="let opt of categoria.value"
          class="optional-item"
          [ngSwitch]="opt.CategoriaOptionalID"
        >
          <img
            *ngSwitchCase="1"
            [src]="opt.FileImagePaint"
            class="card-image"
            (click)="selectOptional(opt)"
          />

          <img
            *ngSwitchCase="2"
            [src]="opt.FileImageRim"
            class="card-image"
            (click)="selectOptional(opt)"
          />

          <img
            *ngSwitchCase="3"
            [src]="opt.FileImageCalipers"
            class="card-image"
            (click)="selectOptional(opt)"
          />

          <img
            *ngSwitchDefault
            [src]="opt.FileImageSfondo"
            class="card-image"
            (click)="selectOptional(opt)"
          />
        </div>
      </div>
    </div>
  </div>
</div>
